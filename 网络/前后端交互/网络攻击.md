# XSS
- xss攻击中文名叫跨站脚本攻击，是一种代码注入攻击，攻击者通过在目标网站上注入恶意脚本，使之在用户的浏览器上运行，从而可获取用户的敏感信息
- 分为存储型，反射性，dom形三种 
- 存储型攻击是将恶意脚本通过表单提交到网站的数据库中，当用户访问这个网站，服务器从数据库取出展示数据，就会执行恶意脚本，从而受到攻击，这种xss是危害最大的
- 反射性攻击是攻击者制造出一个特殊的url，这个url中包含恶意代码，然后诱导用户点击这个url链接，恶意代码执行，就可以冒充用户的行为进行攻击
- dom型 攻击者先构建出一个特殊的url, 用户点击了这个url后，用户浏览器JavaScript执行恶意代码，与前者的区别是，dom型xss依靠的是前端的dom解析，前者是服务器的安全漏洞
### 防范方法
- 后端设置cookie的时候设置httponly属性，让js无法获取cookie
- 对用户表单输入的内容进行白名单过滤，对输入的内容的有风险的字符进行转义
- 存储型和反射型 XSS 都是在服务端取出恶意代码后，插入到响应 HTML 里的，预防这两种漏洞可以改成纯前端渲染，把代码和数据分隔开。
- 预防 DOM 型 XSS 攻击
- DOM 型 XSS 攻击，实际上就是网站前端 JavaScript代码本身不够严谨，把不可信的数据当作代码执行了。插入数据时尽量使用textContent,setAttribute()等
### CSRF跨站伪造攻击
- 首先用户登录A网站，得到cookie，然后用户在没有退出A网站的情况下，访问了恶意网站，恶意网站的脚本就会利用用户已经登录过的身份凭证对A网站进行攻击
- 通常csrf是基于xss的，所以csrf也叫xsrf,受到攻击的原因是因为浏览器在发送HTTP请求时候自动带上cookie，使用token令牌可以避免
### 防御方法
- 根据服务器根据Referer请求头字段对请求来源进行限制
- 设置cookie的samesite属性 
- 设置token验证     